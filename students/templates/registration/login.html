{% extends 'students/base.html' %}

{% block title %}Log In{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="card shadow-lg p-4" style="max-width: 400px; width: 100%; border-radius: 15px;">
        <h2 class="text-center mb-4">Log In</h2>
        <form method="post">
            {% csrf_token %}

            <div class="mb-3">
                <label for="id_username" class="form-label">Username:</label>
                <input type="text" id="id_username" name="username" 
                       class="form-control" placeholder="Enter your username" required>
            </div>

            <div class="mb-3">
                <label for="id_password" class="form-label">Password:</label>
                <div class="input-group">
                    <input type="password" id="id_password" name="password" 
                           class="form-control" placeholder="Enter your password" required>
                    <button type="button" class="btn btn-outline-secondary" id="togglePassword">
                        <i class="fas fa-eye" id="eyeIcon"></i>
                    </button>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100 mt-3">Log In</button>
        </form>

        <div class="text-center mt-4">
            <p class="mb-1">Don't have an account? 
                <a href="{% url 'signup' %}" class="text-primary text-decoration-none fw-bold">Sign Up</a>
            </p>
        </div>
    </div>
</div>

<!-- Include FontAwesome for the eye icon -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

<style>
    body {
        background: linear-gradient(135deg, #4e54c8, #8f94fb);
        font-family: 'Roboto', sans-serif;
    }
    .card {
        background: #ffffff;
        border: none;
    }
    .btn-primary {
        background-color: #4e54c8;
        border: none;
    }
    .btn-primary:hover {
        background-color: #3d41a3;
    }
    .btn-outline-secondary {
        border: 1px solid #ced4da;
    }
</style>

<script>
    document.getElementById('togglePassword').addEventListener('click', function () {
        const passwordInput = document.getElementById('id_password');
        const eyeIcon = document.getElementById('eyeIcon');

        // Toggle the type attribute between password and text
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);

        // Toggle the eye icon between eye and eye-slash
        eyeIcon.classList.toggle('fa-eye');
        eyeIcon.classList.toggle('fa-eye-slash');
    });
</script>
{% endblock %}
